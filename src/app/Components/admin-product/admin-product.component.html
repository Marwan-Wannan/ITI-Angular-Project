<div class="container mt-5 pt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow">
        <div class="card-header bg-primary text-white">
          <h3 class="mb-0">
            <i class="bi bi-box me-2"></i>
            {{ pageTitle }}
          </h3>
        </div>
        <div class="card-body">
          <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
            <div class="row">
              <!-- Product Title -->
              <div class="col-md-6 mb-3">
                <label for="title" class="form-label fw-bold">Product Title *</label>
                <input 
                  type="text" 
                  id="title"
                  class="form-control" 
                  formControlName="title"
                  [class.is-invalid]="productForm.get('title')?.invalid && productForm.get('title')?.touched"
                  placeholder="Enter product title">
                <div class="invalid-feedback">
                  {{ getError('title') }}
                </div>
              </div>

              <!-- Category -->
              <div class="col-md-6 mb-3">
                <label for="category" class="form-label fw-bold">Category *</label>
                <input 
                  type="text" 
                  id="category"
                  class="form-control" 
                  formControlName="category"
                  [class.is-invalid]="productForm.get('category')?.invalid && productForm.get('category')?.touched"
                  placeholder="furniture">
                <div class="invalid-feedback">
                  {{ getError('category') }}
                </div>
              </div>

              <!-- Price -->
              <div class="col-md-6 mb-3">
                <label for="price" class="form-label fw-bold">Price ($) *</label>
                <input 
                  type="number" 
                  id="price"
                  class="form-control" 
                  formControlName="price"
                  [class.is-invalid]="productForm.get('price')?.invalid && productForm.get('price')?.touched"
                  placeholder="0.00"
                  min="0"
                  step="0.01">
                <div class="invalid-feedback">
                  {{ getError('price') }}
                </div>
              </div>

              <!-- Stock -->
              <div class="col-md-6 mb-3">
                <label for="stock" class="form-label fw-bold">Stock *</label>
                <input 
                  type="number" 
                  id="stock"
                  class="form-control" 
                  formControlName="stock"
                  [class.is-invalid]="productForm.get('stock')?.invalid && productForm.get('stock')?.touched"
                  placeholder="0"
                  min="0">
                <div class="invalid-feedback">
                  {{ getError('stock') }}
                </div>
              </div>

              <!-- Description -->
              <div class="col-12 mb-3">
                <label for="description" class="form-label fw-bold">Description *</label>
                <textarea 
                  id="description"
                  class="form-control" 
                  formControlName="description"
                  [class.is-invalid]="productForm.get('description')?.invalid && productForm.get('description')?.touched"
                  placeholder="Enter product description"
                  rows="3"></textarea>
                <div class="invalid-feedback">
                  {{ getError('description') }}
                </div>
              </div>

              <!-- Image URL -->
              <div class="col-12 mb-3">
                <label for="thumbnail" class="form-label fw-bold">Image URL *</label>
                <input 
                  type="url" 
                  id="thumbnail"
                  class="form-control" 
                  formControlName="thumbnail"
                  [class.is-invalid]="productForm.get('thumbnail')?.invalid && productForm.get('thumbnail')?.touched"
                  placeholder="https://example.com/image.jpg">
                <div class="invalid-feedback">
                  {{ getError('thumbnail') }}
                </div>
              </div>
            </div>

            <!-- Image Preview -->
            @if (productForm.get('thumbnail')?.value && productForm.get('thumbnail')?.valid) {
              <div class="mb-3">
                <label class="form-label fw-bold">Image Preview</label>
                <div class="text-center">
                  <img 
                    [src]="productForm.get('thumbnail')?.value" 
                    alt="Product Preview" 
                    class="img-thumbnail"
                    style="max-width: 200px; max-height: 200px;">
                </div>
              </div>
            }

            <!-- Action Buttons -->
            <div class="d-flex justify-content-between">
              <button 
                type="button" 
                class="btn btn-secondary"
                (click)="onCancel()">
                <i class="bi bi-arrow-left me-2"></i>Cancel
              </button>
              
              <button 
                type="submit" 
                class="btn btn-primary"
                [disabled]="productForm.invalid">
                <i class="bi bi-check-circle me-2"></i>
                {{ isEditMode ? 'Update Product' : 'Add Product' }}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
